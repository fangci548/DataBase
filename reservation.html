<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="description" content="" />
  <meta name="author" content="" />
  <title>Simple Sidebar - Start Bootstrap Template</title>
  <!-- Favicon-->
  <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
  <!-- Core theme CSS (includes Bootstrap)-->
  <link href="css/styles.css" rel="stylesheet" />
  <!-- <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"> -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="js/reservation.js"></script>

  <!-- <script type="text/javascript">
    var index = -1;
    index++;
    var uid;
    var p = new Array(); //var p = [];
    // p.push(p1);
    // p.push(p2);
    /**显示人员信息**/
    function showPerson() {
      //显示表格
      var table1 = document.getElementById("table1");
      table1.style = "margin: 1.25rem;";
      var str = "</th><th>員編</th><th>預約項目</th><th>預約時間</th><th>姓名</th><th>手機</th><th>性别</th><th>生日</th><th>地址</th>";
      //alert("!!!" + p.length);
        for (var i = 0; i < p.length; i++) {
        var a = p[i];
        str += "<tr><td>" + a.id +"</td><td>" + a.servicename + "</td><th>" +a.servicetime +"</th><th>" +a.name+ "</th><td>" + a.mobile +
          "</td><td>" + a.sex + "</td><td>" + a.birth + "</td><td>" + a.area +
          "</td><td><button type='button' class='btn btn-success' onclick='showUpdatePerson(" + a.id +
          ")'>更新</button> &nbsp;&nbsp;   <button type='button' class='btn btn-danger' onclick='deletePerson(" + a.id +
          ")'>刪除</button>  </td> </tr>";
      }
      table1.innerHTML = str;
    }
    /**显示新增人员信息**/
    function showAddPerson() {
      //隐藏更新人员界面
      var div3 = document.getElementById("div3");
      div3.style = "display: none;";
      var div2 = document.getElementById("div2");
      div2.style = "margin: 2.25rem;";
      document.getElementById("name").value = "";
      document.getElementById("sex").value = "";
      document.getElementById("service-item").value = "";
      document.getElementById("service-time").value = "";
      document.getElementById("mobile").value = "";
      document.getElementById("birth").value = "";
      document.getElementById("area").value = "";
    }
    /**新增人员信息**/
    function addPerson() {
      var field2 = document.getElementById("field2");
      var a = {}; //var a = new Array();
      //alert(index);
      // var a = p[index-1];
      a.id = index + 1;
      a.servicename = document.getElementById("service-item").value;
      a.servicetime = document.getElementById("service-time").value;
      a.name = document.getElementById("name").value;
      a.mobile = document.getElementById("mobile").value;
      a.birth = document.getElementById("birth").value;
      a.sex = document.getElementById("sex").value;
      a.area = document.getElementById("area").value;
      //alert(a.id+" "+a.name+" "+a.birth+" "+a.sex+" "+a.area +" ");
      index++;
      //数组添加表单的值
      p.push(a);
      
      //添加之后重新查询表单
      showPerson();

    }
    /**取消按钮，隐藏表单**/
    function cancel() {
      //隐藏新增人员信息界面
      var div2 = document.getElementById("div2");
      div2.style = "display: none;";
      //隐藏更新人员信息界面
      var div3 = document.getElementById("div3");
      div3.style = "display: none;";
    }
    /**根据id删除人员信息**/
    function deletePerson(id) {
      var flag = confirm("確定刪除？");
      if (flag) {
        for (var i = 0; i < p.length; i++) {
          var a = p[i];
          if (a.id == id) {
            p.splice(i, 1); //从第i个位置开始删除一个元素
          }
        }
      }
      //删除完毕重新加载表单
      showPerson();
    }
    /**根据id修改人员信息**/
    function showUpdatePerson(id) {
      //隐藏添加人员界面
      uid = id;
      var div2 = document.getElementById("div2");
      div2.style = "display: none;";
      //显示更新人员界面
      var div3 = document.getElementById("div3");
      div3.style = "margin: 2.25rem";
      //根据id遍历数组得到要修改的值,然后用document对象进行修改
      for (var i = 0; i < p.length; i++) {
        var a = p[i];
        if (a.id == id) {
          
          document.getElementById("uname").value = a.name;
          document.getElementById("umobile").value = a.mobile;
          document.getElementById("uservice-item").value = a.servicename;
          document.getElementById("uservice-time").value = a.servicetime;
          document.getElementById("ubirth").value = a.birth;
          document.getElementById("usex").value = a.sex;
          document.getElementById("uarea").value = a.area;
          //document.getElementById("uid").value = a.id;
        }
      }
    }

    function updatePerson() {
      var id = uid;
      //再根据id把表单中的value值存入对于的p[]i数组中
      alert("id = " + uid);
      for (var i = 0; i < p.length; i++) {
        var a = p[i];
        if (a.id == uid) {
          p[i].name = document.getElementById("uname").value;
          p[i].mobile = document.getElementById("umobile").value;
          p[i].birth = document.getElementById("ubirth").value;
          p[i].sex = document.getElementById("usex").value;
          p[i].area = document.getElementById("uarea").value;
          p[i].servicename = document.getElementById("uservice-item").value;
          p[i].servicetime = document.getElementById("uservice-time").value;
        }
      }
      //重新调用表单刷新
      showPerson();
      //隐藏添加人员界面
      var div3 = document.getElementById("div3");
      div3.style = "display: none;";
    }
  </script> -->
</head>
<style>
   .form02 {
     width: 30%;
     padding: 12px 20px;
     margin: 8px 0;
     display: inline-block;
     border: 1px solid #ccc;
     border-radius: 4px;
     box-sizing: border-box;
   }

   button {
     background-color: #E0E0E0;
     /* Green */
     border: none;
     color: #7B7B7B;
     padding: 10px;
     text-align: center;
     text-decoration: none;
     display: inline-block;
     font-size: 10px;
     cursor: pointer;
     border-radius: 5px;
   }

   #reserve {
     margin-left: 50px;
     margin-top: 50px;
   }
</style>
<body>
  <div class="d-flex" id="wrapper">
    <!-- Sidebar-->
    <div class="border-end bg-white" id="sidebar-wrapper">
      <div class="sidebar-heading border-bottom bg-light">Start Reservation</div>
      <div class="list-group list-group-flush">
        <a class="list-group-item list-group-item-action list-group-item-light p-3" href="#!">新增預約</a>
        <a class="list-group-item list-group-item-action list-group-item-light p-3" href="#!">查詢預約</a>
        <a class="list-group-item list-group-item-action list-group-item-light p-3" href="#!">會員管理</a>
        <a class="list-group-item list-group-item-action list-group-item-light p-3" href="#!">員工管理</a>
        <!-- <a class="list-group-item list-group-item-action list-group-item-light p-3" href="#!">Profile</a>
                    <a class="list-group-item list-group-item-action list-group-item-light p-3" href="#!">Status</a> -->
      </div>
    </div>
    <!-- Page content wrapper-->
    <div id="page-content-wrapper">
      <!-- Top navigation-->
      <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
        <div class="container-fluid">
          <button class="btn btn-primary" id="sidebarToggle">Toggle Menu</button>
        </div>
      </nav>
      <div id="" style="margin: 1.25rem;">
        <button type="button" class="btn btn-info" onclick="showPerson()"><span
            class="glyphicon glyphicon-qrcode"></span>
          顯示預約資訊</button>
        <button type="button" class="btn btn-info" onclick="showAddPerson()"><span
            class="glyphicon glyphicon-sound-stereo"></span> 新增預約</button>
      </div>

      <!-- 表格信息 -->
      <div id="div1" style="margin: 1.25rem;">
        <table border="1" class="table table-hover" style="display: none;" id="table1" cellspacing="2" cellpadding="2">
          <!-- <tr> <th>编号</th><th>姓名</th><th>性别</th><th>年龄</th><th>籍贯</th><th colspan="2">操作</th> </tr>
				<tr> <td>v.编号</td><td>v.姓名</td><td>v.性别</td><td>v.年龄</td><td>v.籍贯</td><td><button type="button" onclick="">删除</button></td><td><button type="button">更新</button></td> </tr>
			 -->
        </table>
      </div>
      <!-- 新增人员信息 -->
      <div id="div2" style="display: none;margin: 1.25rem;">
        <fieldset id="field2">
          <legend>新增預約</legend>
          <table class="table table-hover">
            <input type="hidden" class="form-control" name="id" id="id">
            <tr>
              <td>預約項目：</td>
              <td>
                <select id="service-item" class="form-control" required="required">
                  <option value="" selected="selected" >--請選擇--</option>
                  <option value="霧眉">霧眉</option>
                  <option value="美妝">美妝</option>
                  <option value="免費諮詢">免費諮詢</option>
                   <option value="無創洗眉">無創洗眉</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>預約時間:</td>
              <td><input id="service-time" type="datetime-local" name="service-time" placeholder="請輸入時間"
                  required="required"><br></td>
            </tr>
            <tr>
              <td>姓名:</td>
              <td><input type="text" class="form-control" name="name" id="name" value="" /></td>
            </tr>
            <tr>
              <td>手機:</td>
              <td><input type="number" class="form-control" name="mobile" id="mobile" value="" /></td>
            </tr>
            <tr>
              <td>生日:</td>
              <td><input id="birth" type="date" name="time" placeholder="請輸入時間"><br></td>
            </tr>
             <!-- <tr>
              <td>年齡：</td>
              <td><input type="number" class="form-control" name="old" id="old" value="" /></td>
            </tr> -->
            <tr>
              <td>性别：</td>
              <td>
                <select id="sex" class="form-control" required="required">
                  <option value="" selected="selected" >--請選擇--</option>
                  <option value="男" >男</option>
                  <option value="女">女</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>地址：</td>
              <td><input type="text" class="form-control" name="area" id="area" value="" /></td>
            </tr>
            <tr>
              <td><button type="button" class="btn btn-primary" onclick="addPerson()" style="margin: 10px;">確定</button>
                <button type="button" class="btn btn-warning" onclick="cancel()">取消</button></td>
            </tr> 
          </table>
        </fieldset>
      </div>

      <!-- 更新人员信息 -->
      <div id="div3" style="display: none;margin: 1.25rem;" name="div3">
        <fieldset id="field3">
          <legend>更新人員</legend>
          
          <table class="table table-hover">
            <tr>
              <td>預約項目：</td>
              <td>
                <select id="uservice-item" class="form-control" required="required">
                  <option value="" selected="selected">--請選擇--</option>
                  <option value="霧眉">霧眉</option>
                  <option value="美妝">美妝</option>
                  <option value="免費諮詢">免費諮詢</option>
                  <option value="無創洗眉">無創洗眉</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>預約時間:</td>
              <td><input id="uservice-time" type="datetime-local" name="service-time" placeholder="請輸入時間" required="required"><br>
              </td>
            </tr>
            <!-- <tr>
              <td>年齡：</td>
              <td><input type="number" class="form-control" name="old" id="uold" /></td>
            </tr> -->
            <tr>
              <td>姓名：</td>
              <td><input type="text" class="form-control" name="name" id="uname" /></td>
            </tr>
            <tr>
              <td>手機:</td>
              <td><input type="number" class="form-control" name="mobile" id="umobile" /></td>
            </tr>
            <tr>
              <td>生日:</td>
              <td><input id="ubirth" type="date" name="time" placeholder="請輸入時間"><br></td>
            </tr>
            <tr>
              <td>性别：</td>
              <td>
                <select id="usex" class="form-control" required="required">
                  <option value="">--請選擇--</option>
                  <option value="男">男</option>
                  <option value="女">女</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>地址：</td>
              <td><input type="text" class="form-control" name="area" id="uarea" /></td>
            </tr>
            <tr>
              <td>
                <button type="button" class="btn btn-success" onclick="updatePerson()" style="margin: 10px;">確定</button>
                <button type="button" class="btn btn-warning" onclick="cancel()">取消</button>
              </td>
            </tr>
          </table>
        </fieldset>
      </div>
    </div>
  </div>

    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>
</body>

</html>
